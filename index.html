<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cuardium</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,300;0,400;0,600;0,700;0,800;1,300&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg: #04040a;
    --surface: #080812;
    --border: #151528;
    --neon-c: #00fff0;
    --neon-m: #ff00ff;
    --neon-g: #aaff00;
    --text: #d8f8ff;
    --muted: #445566;
  }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Nunito', sans-serif;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    position: relative;
    overflow: hidden;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background:
      radial-gradient(ellipse 55% 40% at 15% 15%, rgba(0,255,240,0.07) 0%, transparent 60%),
      radial-gradient(ellipse 45% 55% at 85% 85%, rgba(255,0,255,0.06) 0%, transparent 60%),
      radial-gradient(ellipse 30% 30% at 50% 50%, rgba(170,255,0,0.03) 0%, transparent 70%);
    pointer-events: none;
  }

  body::after {
    content: '';
    position: fixed;
    inset: 0;
    background-image:
      linear-gradient(rgba(0,255,240,0.025) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,255,240,0.025) 1px, transparent 1px);
    background-size: 48px 48px;
    pointer-events: none;
  }

  @keyframes rise {
    from { opacity: 0; transform: translateY(28px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes popIn {
    from { transform: scale(0.4); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }
  @keyframes spin { to { transform: translate(-50%, -50%) rotate(360deg); } }

  .screen {
    width: 100%;
    max-width: 480px;
    position: relative;
    z-index: 1;
    display: none;
  }
  .screen.active {
    display: block;
    animation: rise 0.7s cubic-bezier(0.16,1,0.3,1) both;
  }

  .logo {
    font-size: 0.65rem;
    font-weight: 800;
    letter-spacing: 0.4em;
    text-transform: uppercase;
    color: var(--neon-c);
    text-shadow: 0 0 12px var(--neon-c), 0 0 30px rgba(0,255,240,0.4);
    margin-bottom: 0.6rem;
  }

  .title {
    font-size: 2.6rem;
    font-weight: 800;
    line-height: 1.08;
    color: var(--text);
    text-shadow: 0 0 40px rgba(0,255,240,0.12);
  }

  .title em {
    font-style: italic;
    color: var(--neon-m);
    text-shadow: 0 0 16px var(--neon-m), 0 0 40px rgba(255,0,255,0.4);
  }

  /* â”€â”€ STEP 1: Amount â”€â”€ */
  .amount-prompt {
    margin: 2.5rem 0 0.6rem;
    font-size: 0.65rem;
    font-weight: 700;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    color: var(--muted);
  }

  .big-amount-wrap {
    display: flex;
    align-items: baseline;
    gap: 0.2rem;
    border-bottom: 2px solid rgba(170,255,0,0.3);
    padding-bottom: 0.3rem;
    transition: border-color 0.3s, box-shadow 0.3s;
    margin-bottom: 2.4rem;
  }

  .big-amount-wrap:focus-within {
    border-color: var(--neon-g);
    box-shadow: 0 4px 20px rgba(170,255,0,0.18);
  }

  .big-symbol {
    font-size: 2rem;
    font-weight: 800;
    color: var(--neon-g);
    text-shadow: 0 0 12px var(--neon-g);
    line-height: 1;
    padding-bottom: 2px;
  }

  #amountDisplay {
    font-size: 3.4rem;
    font-weight: 800;
    color: var(--neon-g);
    text-shadow: 0 0 16px var(--neon-g), 0 0 40px rgba(170,255,0,0.35);
    line-height: 1;
    min-width: 2ch;
    outline: none;
    background: transparent;
    border: none;
    caret-color: var(--neon-g);
    letter-spacing: -0.01em;
    width: 100%;
  }

  #amountDisplay::placeholder {
    color: rgba(170,255,0,0.2);
    text-shadow: none;
  }

  /* â”€â”€ Card visual â”€â”€ */
  .card-visual {
    background: linear-gradient(135deg, #090920 0%, #0a0a1e 60%, #10081e 100%);
    border: 1px solid rgba(0,255,240,0.25);
    border-radius: 18px;
    padding: 1.6rem 1.8rem;
    margin-bottom: 2rem;
    position: relative;
    overflow: hidden;
    height: 148px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    box-shadow:
      0 0 0 1px rgba(0,255,240,0.08),
      0 0 30px rgba(0,255,240,0.08),
      inset 0 1px 0 rgba(0,255,240,0.12);
    transition: box-shadow 0.4s;
  }

  .card-visual:hover {
    box-shadow:
      0 0 0 1px rgba(0,255,240,0.2),
      0 0 50px rgba(0,255,240,0.12),
      inset 0 1px 0 rgba(0,255,240,0.2);
  }

  .card-visual::before {
    content: '';
    position: absolute;
    top: -60px; right: -60px;
    width: 180px; height: 180px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(255,0,255,0.12) 0%, transparent 70%);
    pointer-events: none;
  }

  .card-visual::after {
    content: '';
    position: absolute;
    bottom: -40px; left: -40px;
    width: 140px; height: 140px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(0,255,240,0.08) 0%, transparent 70%);
    pointer-events: none;
  }

  .card-chip {
    width: 36px;
    height: 27px;
    background: linear-gradient(135deg, rgba(0,255,240,0.5), rgba(0,180,180,0.25));
    border-radius: 5px;
    border: 1px solid rgba(0,255,240,0.4);
    box-shadow: 0 0 10px rgba(0,255,240,0.3);
    position: relative;
  }

  .card-chip::after {
    content: '';
    position: absolute;
    inset: 5px;
    border: 1px solid rgba(0,255,240,0.3);
    border-radius: 2px;
  }

  .card-number-display {
    font-size: 0.9rem;
    font-weight: 700;
    letter-spacing: 0.22em;
    color: rgba(0,255,240,0.25);
    transition: color 0.3s, text-shadow 0.3s;
  }

  .card-number-display.active {
    color: var(--neon-c);
    text-shadow: 0 0 8px rgba(0,255,240,0.6);
  }

  .card-bottom {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
  }

  .card-label {
    font-size: 0.52rem;
    font-weight: 700;
    letter-spacing: 0.25em;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 3px;
  }

  .card-value {
    font-size: 0.8rem;
    font-weight: 700;
    letter-spacing: 0.06em;
    color: rgba(216,248,255,0.3);
    transition: color 0.3s, text-shadow 0.3s;
  }

  .card-value.active {
    color: var(--text);
    text-shadow: 0 0 6px rgba(0,255,240,0.3);
  }

  /* â”€â”€ Form fields â”€â”€ */
  .form { display: flex; flex-direction: column; gap: 1.1rem; }

  .field {
    display: flex;
    flex-direction: column;
    gap: 0.4rem;
    animation: rise 0.8s cubic-bezier(0.16,1,0.3,1) both;
  }

  .field:nth-child(1) { animation-delay: 0.05s; }
  .field:nth-child(2) { animation-delay: 0.10s; }
  .field:nth-child(3) { animation-delay: 0.15s; }

  label {
    font-size: 0.6rem;
    font-weight: 800;
    letter-spacing: 0.28em;
    text-transform: uppercase;
    color: var(--muted);
    transition: color 0.3s, text-shadow 0.3s;
  }

  .field:focus-within label {
    color: var(--neon-c);
    text-shadow: 0 0 8px rgba(0,255,240,0.5);
  }

  .input-wrap { position: relative; }

  input:not(#amountDisplay) {
    width: 100%;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 0.85rem 1rem;
    color: var(--text);
    font-family: 'Nunito', sans-serif;
    font-size: 0.95rem;
    font-weight: 700;
    letter-spacing: 0.04em;
    outline: none;
    transition: border-color 0.3s, box-shadow 0.3s, background 0.3s;
    -webkit-appearance: none;
  }

  input:not(#amountDisplay)::placeholder {
    color: var(--muted);
    opacity: 0.5;
    font-weight: 600;
  }

  input:not(#amountDisplay):focus {
    background: #0a0a18;
    border-color: rgba(0,255,240,0.5);
    box-shadow:
      0 0 0 3px rgba(0,255,240,0.07),
      0 0 16px rgba(0,255,240,0.1),
      inset 0 0 12px rgba(0,255,240,0.03);
  }

  .row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }

  .icon {
    position: absolute;
    right: 1rem;
    top: 50%;
    transform: translateY(-50%);
    color: var(--muted);
    font-size: 0.8rem;
    pointer-events: none;
  }

  .divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(0,255,240,0.15), transparent);
    margin: 0.3rem 0;
  }

  /* â”€â”€ Buttons â”€â”€ */
  .btn {
    border: none;
    border-radius: 10px;
    padding: 1rem;
    font-family: 'Nunito', sans-serif;
    font-size: 0.85rem;
    font-weight: 800;
    letter-spacing: 0.22em;
    text-transform: uppercase;
    cursor: pointer;
    transition: transform 0.15s, box-shadow 0.3s;
    position: relative;
    overflow: hidden;
    margin-top: 0.2rem;
  }

  .btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(255,255,255,0.08), transparent);
    opacity: 0;
    transition: opacity 0.3s;
  }

  .btn:hover::before { opacity: 1; }
  .btn:active { transform: translateY(1px); }

  .btn-proceed {
    background: transparent;
    color: var(--neon-c);
    border: 1.5px solid var(--neon-c);
    box-shadow: 0 0 12px rgba(0,255,240,0.25), inset 0 0 12px rgba(0,255,240,0.05);
    text-shadow: 0 0 10px rgba(0,255,240,0.8);
  }

  .btn-proceed:hover {
    box-shadow: 0 0 28px rgba(0,255,240,0.5), 0 0 60px rgba(0,255,240,0.2), inset 0 0 20px rgba(0,255,240,0.08);
    transform: translateY(-2px);
  }

  .btn-confirm {
    background: transparent;
    color: var(--neon-m);
    border: 1.5px solid var(--neon-m);
    box-shadow: 0 0 12px rgba(255,0,255,0.25), inset 0 0 12px rgba(255,0,255,0.05);
    text-shadow: 0 0 10px rgba(255,0,255,0.8);
  }

  .btn-confirm:hover {
    box-shadow: 0 0 28px rgba(255,0,255,0.5), 0 0 60px rgba(255,0,255,0.2), inset 0 0 20px rgba(255,0,255,0.08);
    transform: translateY(-2px);
  }

  .btn-next {
    background: transparent;
    color: var(--neon-g);
    border: 1.5px solid var(--neon-g);
    box-shadow: 0 0 12px rgba(170,255,0,0.25), inset 0 0 12px rgba(170,255,0,0.05);
    text-shadow: 0 0 10px rgba(170,255,0,0.8);
    width: 100%;
  }

  .btn-next:hover {
    box-shadow: 0 0 28px rgba(170,255,0,0.5), 0 0 60px rgba(170,255,0,0.2), inset 0 0 20px rgba(170,255,0,0.08);
    transform: translateY(-2px);
  }

  .btn.loading { pointer-events: none; }
  .btn.loading span { opacity: 0; }
  .btn.loading::after {
    content: '';
    position: absolute;
    width: 18px; height: 18px;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    border: 2px solid rgba(255,0,255,0.2);
    border-top-color: var(--neon-m);
    border-radius: 50%;
    animation: spin 0.7s linear infinite;
    box-shadow: 0 0 10px rgba(255,0,255,0.5);
  }

  .secure {
    text-align: center;
    font-size: 0.58rem;
    font-weight: 700;
    letter-spacing: 0.2em;
    color: var(--muted);
    text-transform: uppercase;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    margin-top: 0.4rem;
  }

  .secure::before {
    content: ''; flex: 1; height: 1px;
    background: linear-gradient(90deg, transparent, var(--border));
  }
  .secure::after {
    content: ''; flex: 1; height: 1px;
    background: linear-gradient(90deg, var(--border), transparent);
  }

  /* â”€â”€ Success â”€â”€ */
  .success-overlay {
    position: fixed;
    inset: 0;
    background: var(--bg);
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 1.2rem;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.6s;
  }

  .success-overlay.show { opacity: 1; pointer-events: all; }

  .check {
    width: 70px; height: 70px;
    border: 2px solid var(--neon-g);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    color: var(--neon-g);
    box-shadow: 0 0 20px rgba(170,255,0,0.5), 0 0 60px rgba(170,255,0,0.2), inset 0 0 20px rgba(170,255,0,0.05);
    text-shadow: 0 0 12px var(--neon-g);
    animation: popIn 0.5s cubic-bezier(0.16,1,0.3,1) both;
  }

  .success-text {
    font-size: 1.8rem;
    font-weight: 800;
    color: var(--neon-g);
    text-shadow: 0 0 16px var(--neon-g), 0 0 40px rgba(170,255,0,0.4);
  }

  .success-amount {
    font-size: 1rem;
    font-weight: 700;
    color: rgba(170,255,0,0.6);
    letter-spacing: 0.1em;
  }

  .success-sub {
    font-size: 0.62rem;
    font-weight: 700;
    letter-spacing: 0.25em;
    color: var(--muted);
    text-transform: uppercase;
  }
</style>
</head>
<body>

<!-- Step 1: Amount -->
<div class="screen active" id="step1">
  <div class="logo">â—ˆ Cuardium</div>
  <div class="title">How <em>much</em>?</div>

  <p class="amount-prompt">Enter amount</p>
  <div class="big-amount-wrap">
    <span class="big-symbol">$</span>
    <input type="text" id="amountDisplay" placeholder="0" inputmode="decimal" autocomplete="off">
  </div>

  <button class="btn btn-next" onclick="goToCard()">
    <span>Next â†’</span>
  </button>
</div>

<!-- Step 2: Card details -->
<div class="screen" id="step2">
  <div class="logo">â—ˆ Cuardium</div>
  <div class="title">Secure <em>checkout</em></div>
  <div style="margin-top:0.5rem; font-size:0.72rem; letter-spacing:0.15em; color:var(--muted); text-transform:uppercase;">
    Paying &nbsp;<span id="amountLabel" style="color:var(--neon-g); font-weight:800; font-size:1rem; text-shadow:0 0 10px var(--neon-g);"></span>
  </div>

  <div class="card-visual" style="margin-top:1.6rem;" id="cardVisual">
    <div class="card-chip"></div>
    <div class="card-number-display" id="cardDisplay">â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢</div>
    <div class="card-bottom">
      <div>
        <div class="card-label">Card holder</div>
        <div class="card-value" id="nameDisplay">Full name</div>
      </div>
      <div>
        <div class="card-label">Expires</div>
        <div class="card-value" id="expiryDisplay">MM / YY</div>
      </div>
    </div>
  </div>

  <form class="form" id="payForm" onsubmit="handleSubmit(event)">
    <div class="field">
      <label for="cardName">Name on card</label>
      <div class="input-wrap">
        <input type="text" id="cardName" placeholder="Your full name" autocomplete="cc-name"
          oninput="updateName(this.value)">
      </div>
    </div>

    <div class="field">
      <label for="cardNum">Card number</label>
      <div class="input-wrap">
        <input type="text" id="cardNum" placeholder="0000 0000 0000 0000"
          maxlength="19" autocomplete="cc-number"
          oninput="formatCard(this)" inputmode="numeric">
      </div>
    </div>

    <div class="row">
      <div class="field">
        <label for="expiry">Expiry date</label>
        <div class="input-wrap">
          <input type="text" id="expiry" placeholder="MM / YY"
            maxlength="7" autocomplete="cc-exp"
            oninput="formatExpiry(this)" inputmode="numeric">
        </div>
      </div>
      <div class="field">
        <label for="cvv">Security code</label>
        <div class="input-wrap">
          <input type="text" id="cvv" placeholder="CVV"
            maxlength="4" autocomplete="cc-csc"
            inputmode="numeric">
          <span class="icon">â—»</span>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <button type="button" class="btn btn-proceed" id="proceedBtn" onclick="handleProceed()">
      <span>Proceed â†’</span>
    </button>

    <button type="submit" class="btn btn-confirm" id="submitBtn" style="display:none">
      <span>Confirm Payment</span>
    </button>

    <div class="secure">ðŸ”’ &nbsp; 256-bit SSL encrypted</div>
  </form>
</div>

<!-- Success -->
<div class="success-overlay" id="successOverlay">
  <div class="check">âœ“</div>
  <div class="success-text">Payment received</div>
  <div class="success-amount" id="successAmount"></div>
  <div class="success-sub">Thank You For Paying !</div>
</div>

<script>
  // â”€â”€ Amount formatting with commas â”€â”€
  const amountInput = document.getElementById('amountDisplay');
  let rawValue = ''; // digits only, no commas

  amountInput.addEventListener('input', function(e) {
    const cursorPos = this.selectionStart;
    const prevLen = this.value.length;

    // Strip everything except digits and one dot
    let raw = this.value.replace(/[^0-9.]/g, '');

    // Only allow one decimal point
    const parts = raw.split('.');
    if (parts.length > 2) raw = parts[0] + '.' + parts.slice(1).join('');

    // Limit to 2 decimal places
    if (parts[1] !== undefined && parts[1].length > 2) {
      raw = parts[0] + '.' + parts[1].slice(0, 2);
    }

    rawValue = raw;

    // Format integer part with commas
    const [intPart, decPart] = raw.split('.');
    const formatted = intPart.replace(/\B(?=(\d{3})+(?!\d))/g, ',')
      + (decPart !== undefined ? '.' + decPart : '');

    this.value = formatted;

    // Restore cursor position adjusted for added commas
    const newLen = this.value.length;
    const newCursor = cursorPos + (newLen - prevLen);
    this.setSelectionRange(newCursor, newCursor);
  });

  // â”€â”€ Navigation â”€â”€
  function goToCard() {
    const val = parseFloat(rawValue);
    if (!rawValue || isNaN(val) || val <= 0) {
      amountInput.style.borderBottom = '2px solid rgba(255,0,0,0.6)';
      amountInput.focus();
      setTimeout(() => amountInput.style.borderBottom = '', 800);
      return;
    }
    const formatted = '$' + Number(rawValue).toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
    document.getElementById('amountLabel').textContent = formatted;
    document.getElementById('successAmount').textContent = formatted;
    document.getElementById('step1').classList.remove('active');
    document.getElementById('step2').classList.add('active');
  }

  // â”€â”€ Card formatting â”€â”€
  function formatCard(input) {
    let v = input.value.replace(/\D/g, '').slice(0, 16);
    input.value = v.replace(/(.{4})/g, '$1 ').trim();
    const display = document.getElementById('cardDisplay');
    const shown = v.padEnd(16, 'â€¢');
    display.textContent = shown.replace(/(.{4})/g, '$1 ').trim();
    display.classList.toggle('active', v.length > 0);
  }

  function formatExpiry(input) {
    let v = input.value.replace(/\D/g, '').slice(0, 4);
    if (v.length >= 2) v = v.slice(0,2) + ' / ' + v.slice(2);
    input.value = v;
    const d = document.getElementById('expiryDisplay');
    d.textContent = v || 'MM / YY';
    d.classList.toggle('active', v.length > 0);
  }

  function updateName(val) {
    const d = document.getElementById('nameDisplay');
    d.textContent = val || 'Full name';
    d.classList.toggle('active', val.length > 0);
  }

  function handleProceed() {
    document.getElementById('proceedBtn').style.display = 'none';
    const confirm = document.getElementById('submitBtn');
    confirm.style.display = 'block';
    confirm.style.animation = 'rise 0.4s cubic-bezier(0.16,1,0.3,1) both';
  }

  function handleSubmit(e) {
    e.preventDefault();
    const btn = document.getElementById('submitBtn');
    btn.classList.add('loading');
    setTimeout(() => {
      document.getElementById('successOverlay').classList.add('show');
    }, 1800);
  }

  // Allow Enter key on amount screen
  amountInput.addEventListener('keydown', e => {
    if (e.key === 'Enter') goToCard();
  });
</script>

</body>
</html>
